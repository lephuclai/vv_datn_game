<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ch·ªçn tr√≤ ch∆°i ‚Äì H·ªçc Ti·∫øng Vi·ªát</title>

<!-- keep your original look -->
<link rel="stylesheet" href="base.css">
<link rel="stylesheet" href="game.css">

<style>
  /* Minimal, non-invasive additions */
  #game-name{ background:#b4479c; color:#fff }

  /* Controls */
  #controls{
    display:flex; gap:10px; justify-content:center; flex-wrap:wrap; margin:8px 0
  }
  #search{
    min-width: 220px; padding:8px 12px; border-radius:10px; border:1px solid #ddd; font-size:16px
  }
  .chips{ display:flex; gap:8px; flex-wrap:wrap; justify-content:center }
  .chip{
    padding:6px 10px; border-radius:999px; border:1px solid #ccc; background:#fff; cursor:pointer; font-size:14px
  }
  .chip.active{ background:#44A5DC; color:#fff; border-color:#44A5DC }

  /* Grid of cards */
  #grid{
    display:grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap:16px;
    margin:14px auto; width:100%; max-width:1100px; padding:10px
  }
  .game-card{
    display:flex; flex-direction:column; overflow:hidden; border-radius:14px;
    background:#fff
  }
  .game-cover{
    display:flex; align-items:center; justify-content:center;
    height:120px; color:#fff; font-size:54px; font-weight:900
  }
  .game-body{ padding:12px 14px }
  .game-title{ font-size:18px; font-weight:900; margin:2px 0 4px; color:#444 }
  .game-desc{ color:#666; font-size:14px; min-height:36px }
  .tags{ display:flex; gap:6px; flex-wrap:wrap; margin-top:8px }
  .tag{ font-size:12px; padding:3px 8px; border-radius:999px; background:#f0f2f5; color:#555 }
  .card-actions{ padding:12px 14px; display:flex; justify-content:space-between; align-items:center }
  .btn-play{
    padding:8px 14px; border-radius:10px; border:0; background:#65BF3B; color:#fff; cursor:pointer; font-weight:800
  }
  .btn-play:hover{ filter:brightness(0.95) }
  .badge{ font-size:12px; background:#FF3859; color:#fff; padding:3px 8px; border-radius:999px }

  /* ‚ÄúLast played‚Äù strip */
  #last-wrap{ display:none; justify-content:center; }
  #last{
    display:flex; gap:10px; align-items:center; padding:10px 12px; margin:0 auto;
    border-radius:12px; background:#fff; max-width:1100px
  }
  #last button{ padding:6px 12px; border-radius:10px; border:0; background:#44A5DC; color:#fff; cursor:pointer; font-weight:800 }

  @media (max-width:680px){
    .game-cover{ height:100px; font-size:44px }
  }
</style>
</head>
<body>
<header>
  <div id="name">
    <div id="logo" class="scale-up">
      <a href="https://hoctiengviet.tforart.vn/home/">
        <img src="https://vinhpham041102-lxpqv.wpcomstaging.com/wp-content/uploads/2025/08/logo.png" alt="logo">
      </a>
    </div>
  </div>
  <div id="account"></div>
</header>

<main>
  <div id="game-info">
    <div class="text"><h1 id="game-name">Ch·ªçn tr√≤ ch∆°i</h1></div>
  </div>

  <!-- Last played -->
  <div id="last-wrap">
    <div id="last" class="box">
      <span>‚ñ∂Ô∏è Ti·∫øp t·ª•c: <strong id="last-title"></strong></span>
      <button id="resume">M·ªü</button>
      <button id="clear-last" class="button btn-grey">Xo√°</button>
    </div>
  </div>

  <div id="question" class="box">
    <div id="controls">
      <input id="search" type="search" placeholder="T√¨m tr√≤ ch∆°i (vd: ch·ªØ c√°i, v·∫ßn, nghe)‚Ä¶">
      <div class="chips">
        <button class="chip active" data-filter="all">T·∫•t c·∫£</button>
        <button class="chip" data-filter="Ch·ªØ c√°i">Ch·ªØ c√°i</button>
        <button class="chip" data-filter="V·∫ßn">V·∫ßn</button>
        <button class="chip" data-filter="Nghe">Nghe</button>
        <button class="chip" data-filter="Ph·∫£n x·∫°">Ph·∫£n x·∫°</button>
      </div>
    </div>
  </div>

  <div id="grid"></div>
</main>

<script>
/* ========= 10 games: edit titles/urls/descs as needed ========= */
const GAMES = [
  { id:"Penalty",title:"S√∫t lu√¢n l∆∞u", url:"bong-da/bong-da.html", emoji:"‚öΩ",
    color:"#bd10e0", tags:["Ch·ªØ c√°i","V·∫ßn"], desc:"Chi·∫øn th·∫Øng tr·∫≠n chung k·∫øt b·∫±ng ki·∫øn th·ª©c ch·ªØ v√† v·∫ßn." },
    
  { id:"me-cung",  title:"M√™ Cung", url:"me-cung/me-cung.html", emoji:"üåÄ",
    color:"#44A5DC", tags:["Ch·ªØ c√°i","V·∫ßn"], desc:"Gi√∫p m√®o ƒëi qua m√™ cung ƒë·ªÉ c√≥ th·ªÉ t√¨m ƒë∆∞·ª£c c√°!" },

  { id:"lat-the",  title:"L·∫≠t th·∫ª - Nh·ªõ ch·ªØ c√°i", url:"lat-the/lat-the.html", emoji:"üÉè",
    color:"#65BF3B", tags:["Ch·ªØ c√°i","Nghe"], desc:"L·∫≠t t√¨m c·∫∑p ch·ªØ gi·ªëng nhau, ph√°t √¢m khi l·∫≠t." },

  { id:"dino",     title:"Dino h·ªçc ch·ªØ", url:"khung-long/khung-long.html", emoji:"ü¶ñ",
    color:"#8e44ad", tags:["Ch·ªØ c√°i","V·∫ßn","Ph·∫£n x·∫°"], desc:"Tr·∫£ l·ªùi c√°c c√¢u h·ªèi khi g·∫∑p ch∆∞·ªõng ng·∫°i" },

  { id:"keo-co",  title:"K√©o co", url:"keo-co/keo-co.html", emoji:"ü§úü§õ",
    color:"#FFC200", tags:["Ch·ªØ c√°i","Nghe"], desc:"Tr·∫£ l·ªùi ƒë√∫ng c√°c c√¢u h·ªèi ƒë·ªÉ chi·∫øn th·∫Øng k√©o co" },

  { id:"spell",    title:"Gh√©p v·∫ßn", url:"ghep-van/ghep-van.html", emoji:"üìù",
    color:"#ff6b6b", tags:["V·∫ßn"], desc:"K√©o th·∫£ ƒë·ªÉ gh√©p v·∫ßn th√†nh ti·∫øng ƒë√∫ng." },

  { id:"dua-xe",   title:"ƒêua xe", url:"dua-xe/dua-xe.html", emoji:"üéß",
    color:"#2d98da", tags:["Ch·ªØ c√°i","Nghe", "V·∫ßn"], desc:"Chi·∫øn th·∫Øng cu·ªôc ƒëua b·∫±ng ki·∫øn th·ª©c ch·ªØ v√† v·∫ßn." },

  { id:"nghe-chon-van", title:"Nghe & Ch·ªçn v·∫ßn", url:"danh-van/danh-van.html", emoji:"üìö",
    color:"#20bf6b", tags:["V·∫ßn"], desc:"Nghe v√† ch·ªçn v·∫ßn ƒë√∫ng." },

  { id:"chon-anh",  title:"Ch·ªçn ·∫£nh v√† ch·ªØ", url:"chon-anh/chon-anh.html", emoji:"üí´",
    color:"#e67e22", tags:["Ch·ªØ c√°i","V·∫ßn"], desc:"Ch·ªçn t·ª´ ·ª©ng v·ªõi ·∫£nh" },

  { id:"nghe-chon-chu", title:"Nghe v√† ch·ªçn ch·ªØ c√°i", url:"bang-chu-cai/bang-chu-cai.html", emoji:"üÖ∞Ô∏è",
    color:"#f39c12", tags:["Ch·ªØ c√°i"], desc:"Nghe v√† ch·ªçn ch·ªØ c√°i ƒë√∫ng." },
];

/* ========= Render grid ========= */
const grid = document.getElementById('grid');
const searchInput = document.getElementById('search');
const chips = [...document.querySelectorAll('.chip')];

function cardHTML(g){
  const tags = g.tags.map(t=>`<span class="tag">${t}</span>`).join('');
  return `
  <article class="game-card box" data-id="${g.id}" data-tags="${g.tags.join(',')}">
    <div class="game-cover" style="background:${g.color}">${g.emoji || "üéÆ"}</div>
    <div class="game-body">
      <div class="game-title">${g.title}</div>
      <div class="game-desc">${g.desc||""}</div>
      <div class="tags">${tags}</div>
    </div>
    <div class="card-actions">
      <button class="btn-play" data-url="${g.url}" data-title="${g.title}">‚ñ∂Ô∏è Ch∆°i</button>
      <span class="badge" style="display:${g.badge?'inline-block':'none'}">${g.badge||''}</span>
    </div>
  </article>`;
}

function render(list){
  grid.innerHTML = list.map(cardHTML).join('');
  // wire buttons
  grid.querySelectorAll('.btn-play').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      const url = btn.dataset.url;
      const title = btn.dataset.title;
      try{ localStorage.setItem('hv_last_game', JSON.stringify({ url, title })); }catch{}
      if(url && url!=="#"){ location.href = url; }
    });
  });
}

/* ========= Filter & search ========= */
let currentFilter = 'all';
function applyFilters(){
  const q = (searchInput.value||'').trim().toLowerCase();
  const list = GAMES.filter(g=>{
    const matchTag = (currentFilter==='all') || g.tags.includes(currentFilter);
    const matchText = !q || g.title.toLowerCase().includes(q) || (g.desc||'').toLowerCase().includes(q) || g.tags.join(' ').toLowerCase().includes(q);
    return matchTag && matchText;
  });
  render(list);
}

chips.forEach(ch=>{
  ch.addEventListener('click', ()=>{
    chips.forEach(x=>x.classList.remove('active'));
    ch.classList.add('active');
    currentFilter = ch.dataset.filter;
    applyFilters();
  });
});
searchInput.addEventListener('input', applyFilters);

/* ========= Last played ========= */
const lastWrap = document.getElementById('last-wrap');
const lastTitle= document.getElementById('last-title');
const resumeBtn = document.getElementById('resume');
const clearBtn  = document.getElementById('clear-last');

function loadLast(){
  let data=null;
  try{ data = JSON.parse(localStorage.getItem('hv_last_game')||'null'); }catch{}
  if(data && data.url){
    lastWrap.style.display = 'flex';
    lastTitle.textContent = data.title||data.url;
    resumeBtn.onclick = ()=> location.href = data.url;
    clearBtn.onclick  = ()=>{ localStorage.removeItem('hv_last_game'); lastWrap.style.display='none'; };
  }else{
    lastWrap.style.display = 'none';
  }
}

/* ========= Init ========= */
function init(){
  render(GAMES);
  applyFilters();
  loadLast();
}
document.addEventListener('DOMContentLoaded', init);
</script>
</body>
</html>
